<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>src/utils/color.js - JSXGraph</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="icon" href="../assets/favicon.ico">
    <script src="../assets/js/jsxgraphcore.js"></script>
    <link rel="stylesheet" href="../assets/css/jsxgraph.css">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="../assets/css/logo_blue.png" title="JSXGraph" width="117" height="52"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.99.4</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/Angle.html">Angle</a> </li>
                                <li><a href="../classes/Arc.html">Arc</a> </li>
                                <li><a href="../classes/Arrow.html">Arrow</a> </li>
                                <li><a href="../classes/Arrowparallel.html">Arrowparallel</a> </li>
                                <li><a href="../classes/Axis.html">Axis</a> </li>
                                <li><a href="../classes/Bisector.html">Bisector</a> </li>
                                <li><a href="../classes/Bisectorlines.html">Bisectorlines</a> </li>
                                <li><a href="../classes/Button.html">Button</a> </li>
                                <li><a href="../classes/Checkbox.html">Checkbox</a> </li>
                                <li><a href="../classes/Circle.html">Circle</a> </li>
                                <li><a href="../classes/Circumcenter.html">Circumcenter</a> </li>
                                <li><a href="../classes/Circumcircle.html">Circumcircle</a> </li>
                                <li><a href="../classes/CircumcircleArc.html">CircumcircleArc</a> </li>
                                <li><a href="../classes/CircumcircleSector.html">CircumcircleSector</a> </li>
                                <li><a href="../classes/Conic.html">Conic</a> </li>
                                <li><a href="../classes/Curve.html">Curve</a> </li>
                                <li><a href="../classes/Ellipse.html">Ellipse</a> </li>
                                <li><a href="../classes/EventEmitter.html">EventEmitter</a> </li>
                                <li><a href="../classes/Functiongraph.html">Functiongraph</a> </li>
                                <li><a href="../classes/Glider.html">Glider</a> </li>
                                <li><a href="../classes/Grid.html">Grid</a> </li>
                                <li><a href="../classes/Group.html">Group</a> </li>
                                <li><a href="../classes/Hatch.html">Hatch</a> </li>
                                <li><a href="../classes/Hyperbola.html">Hyperbola</a> </li>
                                <li><a href="../classes/Image.html">Image</a> </li>
                                <li><a href="../classes/Incenter.html">Incenter</a> </li>
                                <li><a href="../classes/Incircle.html">Incircle</a> </li>
                                <li><a href="../classes/Inequality.html">Inequality</a> </li>
                                <li><a href="../classes/Input.html">Input</a> </li>
                                <li><a href="../classes/Integral.html">Integral</a> </li>
                                <li><a href="../classes/Intersection.html">Intersection</a> </li>
                                <li><a href="../classes/JXG.html">JXG</a> </li>
                                <li><a href="../classes/JXG.AbstractRenderer.html">JXG.AbstractRenderer</a> </li>
                                <li><a href="../classes/JXG.Board.html">JXG.Board</a> </li>
                                <li><a href="../classes/JXG.C.html">JXG.C</a> </li>
                                <li><a href="../classes/JXG.CanvasRenderer.html">JXG.CanvasRenderer</a> </li>
                                <li><a href="../classes/JXG.Chart.html">JXG.Chart</a> </li>
                                <li><a href="../classes/JXG.Circle.html">JXG.Circle</a> </li>
                                <li><a href="../classes/JXG.Complex.html">JXG.Complex</a> </li>
                                <li><a href="../classes/JXG.Composition.html">JXG.Composition</a> </li>
                                <li><a href="../classes/JXG.Coords.html">JXG.Coords</a> </li>
                                <li><a href="../classes/JXG.CoordsElement.html">JXG.CoordsElement</a> </li>
                                <li><a href="../classes/JXG.Curve.html">JXG.Curve</a> </li>
                                <li><a href="../classes/JXG.GeometryElement.html">JXG.GeometryElement</a> </li>
                                <li><a href="../classes/JXG.Group.html">JXG.Group</a> </li>
                                <li><a href="../classes/JXG.Image.html">JXG.Image</a> </li>
                                <li><a href="../classes/JXG.JSXGraph.html">JXG.JSXGraph</a> </li>
                                <li><a href="../classes/JXG.Line.html">JXG.Line</a> </li>
                                <li><a href="../classes/JXG.Math.html">JXG.Math</a> </li>
                                <li><a href="../classes/JXG.Math.Geometry.html">JXG.Math.Geometry</a> </li>
                                <li><a href="../classes/JXG.Math.Numerics.html">JXG.Math.Numerics</a> </li>
                                <li><a href="../classes/JXG.Math.Poly.html">JXG.Math.Poly</a> </li>
                                <li><a href="../classes/JXG.Math.Poly.Monomial.html">JXG.Math.Poly.Monomial</a> </li>
                                <li><a href="../classes/JXG.Math.Poly.Polynomial.html">JXG.Math.Poly.Polynomial</a> </li>
                                <li><a href="../classes/JXG.Math.Poly.Ring.html">JXG.Math.Poly.Ring</a> </li>
                                <li><a href="../classes/JXG.Math.Quadtree.html">JXG.Math.Quadtree</a> </li>
                                <li><a href="../classes/JXG.Math.Statistics.html">JXG.Math.Statistics</a> </li>
                                <li><a href="../classes/JXG.Math.Symbolic.html">JXG.Math.Symbolic</a> </li>
                                <li><a href="../classes/JXG.NoRenderer.html">JXG.NoRenderer</a> </li>
                                <li><a href="../classes/JXG.Options.html">JXG.Options</a> </li>
                                <li><a href="../classes/JXG.Point.html">JXG.Point</a> </li>
                                <li><a href="../classes/JXG.Polygon.html">JXG.Polygon</a> </li>
                                <li><a href="../classes/JXG.SVGRenderer.html">JXG.SVGRenderer</a> </li>
                                <li><a href="../classes/JXG.Text.html">JXG.Text</a> </li>
                                <li><a href="../classes/JXG.Ticks.html">JXG.Ticks</a> </li>
                                <li><a href="../classes/JXG.Transformation.html">JXG.Transformation</a> </li>
                                <li><a href="../classes/JXG.Turtle.html">JXG.Turtle</a> </li>
                                <li><a href="../classes/JXG.Util.Base64.html">JXG.Util.Base64</a> </li>
                                <li><a href="../classes/JXG.Util.Unzip.html">JXG.Util.Unzip</a> </li>
                                <li><a href="../classes/JXG.VMLRenderer.html">JXG.VMLRenderer</a> </li>
                                <li><a href="../classes/Line.html">Line</a> </li>
                                <li><a href="../classes/Locus.html">Locus</a> </li>
                                <li><a href="../classes/MajorArc.html">MajorArc</a> </li>
                                <li><a href="../classes/Midpoint.html">Midpoint</a> </li>
                                <li><a href="../classes/MinorArc.html">MinorArc</a> </li>
                                <li><a href="../classes/MinorSector.html">MinorSector</a> </li>
                                <li><a href="../classes/Mirrorpoint.html">Mirrorpoint</a> </li>
                                <li><a href="../classes/NonReflexAngle.html">NonReflexAngle</a> </li>
                                <li><a href="../classes/Normal.html">Normal</a> </li>
                                <li><a href="../classes/Orthogonalprojection.html">Orthogonalprojection</a> </li>
                                <li><a href="../classes/OtherIntersection.html">OtherIntersection</a> </li>
                                <li><a href="../classes/Parabola.html">Parabola</a> </li>
                                <li><a href="../classes/Parallel.html">Parallel</a> </li>
                                <li><a href="../classes/Parallelpoint.html">Parallelpoint</a> </li>
                                <li><a href="../classes/Perpendicular.html">Perpendicular</a> </li>
                                <li><a href="../classes/PerpendicularPoint.html">PerpendicularPoint</a> </li>
                                <li><a href="../classes/PerpendicularSegment.html">PerpendicularSegment</a> </li>
                                <li><a href="../classes/Point.html">Point</a> </li>
                                <li><a href="../classes/PolarLine.html">PolarLine</a> </li>
                                <li><a href="../classes/PolePoint.html">PolePoint</a> </li>
                                <li><a href="../classes/Polygon.html">Polygon</a> </li>
                                <li><a href="../classes/RadicalAxis.html">RadicalAxis</a> </li>
                                <li><a href="../classes/Reflection.html">Reflection</a> </li>
                                <li><a href="../classes/ReflexAngle.html">ReflexAngle</a> </li>
                                <li><a href="../classes/registerReader.html">registerReader</a> </li>
                                <li><a href="../classes/RegularPolygon.html">RegularPolygon</a> </li>
                                <li><a href="../classes/Riemannsum.html">Riemannsum</a> </li>
                                <li><a href="../classes/Sector.html">Sector</a> </li>
                                <li><a href="../classes/Segment.html">Segment</a> </li>
                                <li><a href="../classes/Semicircle.html">Semicircle</a> </li>
                                <li><a href="../classes/Slider.html">Slider</a> </li>
                                <li><a href="../classes/Slopetriangle.html">Slopetriangle</a> </li>
                                <li><a href="../classes/Spline.html">Spline</a> </li>
                                <li><a href="../classes/Stepfunction.html">Stepfunction</a> </li>
                                <li><a href="../classes/Tangent.html">Tangent</a> </li>
                                <li><a href="../classes/Tapemeasure.html">Tapemeasure</a> </li>
                                <li><a href="../classes/Text.html">Text</a> </li>
                                <li><a href="../classes/Ticks.html">Ticks</a> </li>
                                <li><a href="../classes/Tracecurve.html">Tracecurve</a> </li>
                                <li><a href="../classes/Transformation.html">Transformation</a> </li>
                                <li><a href="../classes/Turtle.html">Turtle</a> </li>
                            </ul>
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/JXG.html">JXG</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1 class="file-heading">File: src/utils/color.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
/*
    Copyright 2008-2013
        Matthias Ehmann,
        Michael Gerhaeuser,
        Carsten Miller,
        Bianca Valentin,
        Alfred Wassermann,
        Peter Wilfahrt

    This file is part of JSXGraph.

    JSXGraph is free software dual licensed under the GNU LGPL or MIT License.

    You can redistribute it and/or modify it under the terms of the

      * GNU Lesser General Public License as published by
        the Free Software Foundation, either version 3 of the License, or
        (at your option) any later version
      OR
      * MIT License: https://github.com/jsxgraph/jsxgraph/blob/master/LICENSE.MIT

    JSXGraph is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Lesser General Public License for more details.

    You should have received a copy of the GNU Lesser General Public License and
    the MIT License along with JSXGraph. If not, see &lt;http://www.gnu.org/licenses/&gt;
    and &lt;http://opensource.org/licenses/MIT/&gt;.
 */


/*global JXG: true, define: true*/

/*jslint nomen: true, plusplus: true*/

/* depends:
 jxg
 utils/type
 math/math
 */

/**
 * Functions for color conversions. This was originally based on a class to parse color values by
 * Stoyan Stefanov &lt;sstoo@gmail.com&gt; (see http://www.phpied.com/rgb-color-parser-in-javascript/)
 */

define([&#x27;jxg&#x27;, &#x27;utils/type&#x27;, &#x27;math/math&#x27;], function (JXG, Type, Mat) {

    &quot;use strict&quot;;

    // private constants and helper functions

    // simple colors contains string color constants that can be used in various browser
    // in javascript
    var simpleColors = {
            aliceblue: &#x27;f0f8ff&#x27;,
            antiquewhite: &#x27;faebd7&#x27;,
            aqua: &#x27;00ffff&#x27;,
            aquamarine: &#x27;7fffd4&#x27;,
            azure: &#x27;f0ffff&#x27;,
            beige: &#x27;f5f5dc&#x27;,
            bisque: &#x27;ffe4c4&#x27;,
            black: &#x27;000000&#x27;,
            blanchedalmond: &#x27;ffebcd&#x27;,
            blue: &#x27;0000ff&#x27;,
            blueviolet: &#x27;8a2be2&#x27;,
            brown: &#x27;a52a2a&#x27;,
            burlywood: &#x27;deb887&#x27;,
            cadetblue: &#x27;5f9ea0&#x27;,
            chartreuse: &#x27;7fff00&#x27;,
            chocolate: &#x27;d2691e&#x27;,
            coral: &#x27;ff7f50&#x27;,
            cornflowerblue: &#x27;6495ed&#x27;,
            cornsilk: &#x27;fff8dc&#x27;,
            crimson: &#x27;dc143c&#x27;,
            cyan: &#x27;00ffff&#x27;,
            darkblue: &#x27;00008b&#x27;,
            darkcyan: &#x27;008b8b&#x27;,
            darkgoldenrod: &#x27;b8860b&#x27;,
            darkgray: &#x27;a9a9a9&#x27;,
            darkgreen: &#x27;006400&#x27;,
            darkkhaki: &#x27;bdb76b&#x27;,
            darkmagenta: &#x27;8b008b&#x27;,
            darkolivegreen: &#x27;556b2f&#x27;,
            darkorange: &#x27;ff8c00&#x27;,
            darkorchid: &#x27;9932cc&#x27;,
            darkred: &#x27;8b0000&#x27;,
            darksalmon: &#x27;e9967a&#x27;,
            darkseagreen: &#x27;8fbc8f&#x27;,
            darkslateblue: &#x27;483d8b&#x27;,
            darkslategray: &#x27;2f4f4f&#x27;,
            darkturquoise: &#x27;00ced1&#x27;,
            darkviolet: &#x27;9400d3&#x27;,
            deeppink: &#x27;ff1493&#x27;,
            deepskyblue: &#x27;00bfff&#x27;,
            dimgray: &#x27;696969&#x27;,
            dodgerblue: &#x27;1e90ff&#x27;,
            feldspar: &#x27;d19275&#x27;,
            firebrick: &#x27;b22222&#x27;,
            floralwhite: &#x27;fffaf0&#x27;,
            forestgreen: &#x27;228b22&#x27;,
            fuchsia: &#x27;ff00ff&#x27;,
            gainsboro: &#x27;dcdcdc&#x27;,
            ghostwhite: &#x27;f8f8ff&#x27;,
            gold: &#x27;ffd700&#x27;,
            goldenrod: &#x27;daa520&#x27;,
            gray: &#x27;808080&#x27;,
            green: &#x27;008000&#x27;,
            greenyellow: &#x27;adff2f&#x27;,
            honeydew: &#x27;f0fff0&#x27;,
            hotpink: &#x27;ff69b4&#x27;,
            indianred : &#x27;cd5c5c&#x27;,
            indigo : &#x27;4b0082&#x27;,
            ivory: &#x27;fffff0&#x27;,
            khaki: &#x27;f0e68c&#x27;,
            lavender: &#x27;e6e6fa&#x27;,
            lavenderblush: &#x27;fff0f5&#x27;,
            lawngreen: &#x27;7cfc00&#x27;,
            lemonchiffon: &#x27;fffacd&#x27;,
            lightblue: &#x27;add8e6&#x27;,
            lightcoral: &#x27;f08080&#x27;,
            lightcyan: &#x27;e0ffff&#x27;,
            lightgoldenrodyellow: &#x27;fafad2&#x27;,
            lightgrey: &#x27;d3d3d3&#x27;,
            lightgreen: &#x27;90ee90&#x27;,
            lightpink: &#x27;ffb6c1&#x27;,
            lightsalmon: &#x27;ffa07a&#x27;,
            lightseagreen: &#x27;20b2aa&#x27;,
            lightskyblue: &#x27;87cefa&#x27;,
            lightslateblue: &#x27;8470ff&#x27;,
            lightslategray: &#x27;778899&#x27;,
            lightsteelblue: &#x27;b0c4de&#x27;,
            lightyellow: &#x27;ffffe0&#x27;,
            lime: &#x27;00ff00&#x27;,
            limegreen: &#x27;32cd32&#x27;,
            linen: &#x27;faf0e6&#x27;,
            magenta: &#x27;ff00ff&#x27;,
            maroon: &#x27;800000&#x27;,
            mediumaquamarine: &#x27;66cdaa&#x27;,
            mediumblue: &#x27;0000cd&#x27;,
            mediumorchid: &#x27;ba55d3&#x27;,
            mediumpurple: &#x27;9370d8&#x27;,
            mediumseagreen: &#x27;3cb371&#x27;,
            mediumslateblue: &#x27;7b68ee&#x27;,
            mediumspringgreen: &#x27;00fa9a&#x27;,
            mediumturquoise: &#x27;48d1cc&#x27;,
            mediumvioletred: &#x27;c71585&#x27;,
            midnightblue: &#x27;191970&#x27;,
            mintcream: &#x27;f5fffa&#x27;,
            mistyrose: &#x27;ffe4e1&#x27;,
            moccasin: &#x27;ffe4b5&#x27;,
            navajowhite: &#x27;ffdead&#x27;,
            navy: &#x27;000080&#x27;,
            oldlace: &#x27;fdf5e6&#x27;,
            olive: &#x27;808000&#x27;,
            olivedrab: &#x27;6b8e23&#x27;,
            orange: &#x27;ffa500&#x27;,
            orangered: &#x27;ff4500&#x27;,
            orchid: &#x27;da70d6&#x27;,
            palegoldenrod: &#x27;eee8aa&#x27;,
            palegreen: &#x27;98fb98&#x27;,
            paleturquoise: &#x27;afeeee&#x27;,
            palevioletred: &#x27;d87093&#x27;,
            papayawhip: &#x27;ffefd5&#x27;,
            peachpuff: &#x27;ffdab9&#x27;,
            peru: &#x27;cd853f&#x27;,
            pink: &#x27;ffc0cb&#x27;,
            plum: &#x27;dda0dd&#x27;,
            powderblue: &#x27;b0e0e6&#x27;,
            purple: &#x27;800080&#x27;,
            red: &#x27;ff0000&#x27;,
            rosybrown: &#x27;bc8f8f&#x27;,
            royalblue: &#x27;4169e1&#x27;,
            saddlebrown: &#x27;8b4513&#x27;,
            salmon: &#x27;fa8072&#x27;,
            sandybrown: &#x27;f4a460&#x27;,
            seagreen: &#x27;2e8b57&#x27;,
            seashell: &#x27;fff5ee&#x27;,
            sienna: &#x27;a0522d&#x27;,
            silver: &#x27;c0c0c0&#x27;,
            skyblue: &#x27;87ceeb&#x27;,
            slateblue: &#x27;6a5acd&#x27;,
            slategray: &#x27;708090&#x27;,
            snow: &#x27;fffafa&#x27;,
            springgreen: &#x27;00ff7f&#x27;,
            steelblue: &#x27;4682b4&#x27;,
            tan: &#x27;d2b48c&#x27;,
            teal: &#x27;008080&#x27;,
            thistle: &#x27;d8bfd8&#x27;,
            tomato: &#x27;ff6347&#x27;,
            turquoise: &#x27;40e0d0&#x27;,
            violet: &#x27;ee82ee&#x27;,
            violetred: &#x27;d02090&#x27;,
            wheat: &#x27;f5deb3&#x27;,
            white: &#x27;ffffff&#x27;,
            whitesmoke: &#x27;f5f5f5&#x27;,
            yellow: &#x27;ffff00&#x27;,
            yellowgreen: &#x27;9acd32&#x27;
        },
        // array of color definition objects
        colorDefs = [{
            re: /^\s*rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([\d\.]{1,3})\s*\)\s*$/,
            example: [&#x27;rgba(123, 234, 45, 0.5)&#x27;, &#x27;rgba(255,234,245,1.0)&#x27;],
            process: function (bits) {
                return [
                    parseInt(bits[1], 10),
                    parseInt(bits[2], 10),
                    parseInt(bits[3], 10)
                ];
            }
        }, {
            re: /^\s*rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)\s*$/,
            example: [&#x27;rgb(123, 234, 45)&#x27;, &#x27;rgb(255,234,245)&#x27;],
            process: function (bits) {
                return [
                    parseInt(bits[1], 10),
                    parseInt(bits[2], 10),
                    parseInt(bits[3], 10)
                ];
            }
        }, {
            re: /^(\w{2})(\w{2})(\w{2})$/,
            example: [&#x27;#00ff00&#x27;, &#x27;336699&#x27;],
            process: function (bits) {
                return [
                    parseInt(bits[1], 16),
                    parseInt(bits[2], 16),
                    parseInt(bits[3], 16)
                ];
            }
        }, {
            re: /^(\w{1})(\w{1})(\w{1})$/,
            example: [&#x27;#fb0&#x27;, &#x27;f0f&#x27;],
            process: function (bits) {
                return [
                    parseInt(bits[1] + bits[1], 16),
                    parseInt(bits[2] + bits[2], 16),
                    parseInt(bits[3] + bits[3], 16)
                ];
            }
        }];

    /**
     * Converts a valid HTML/CSS color string into a rgb value array. This is the base
     * function for the following wrapper functions which only adjust the output to
     * different flavors like an object, string or hex values.
     * @param {String,Array,Number} color A valid HTML or CSS styled color value, e.g. &#x27;#12ab21&#x27;, &#x27;#abc&#x27;, &#x27;black&#x27;,
     * or &#x27;rgb(12, 132, 233)&#x27;. This can also be an array containing three color values either from 0.0 to 1.0 or
     * from 0 to 255. They will be interpreted as red, green, and blue values. In case this is a number this method
     * expects the parameters ag and ab.
     * @param {Number} ag
     * @param {Number} ab
     * @return {Array} RGB color values as an array [r, g, b] with values ranging from 0 to 255.
     */
    JXG.rgbParser = function (color, ag, ab) {
        var color_string, channels, re, processor, bits, i,
            r, g, b,
            values = color,
            testFloat = false;

        if (!Type.exists(color)) {
            return [];
        }

        if (Type.exists(ag) &amp;&amp; Type.exists(ab)) {
            values = [color, ag, ab];
        }

        color_string = values;

        if (Type.isArray(color_string)) {
            for (i = 0; i &lt; 3; i++) {
                testFloat = testFloat || /\./.test(values[i].toString());
            }

            for (i = 0; i &lt; 3; i++) {
                testFloat = testFloat &amp;&amp; (values[i] &gt;= 0.0) &amp;&amp; (values[i] &lt;= 1.0);
            }

            if (testFloat) {
                return [Math.ceil(values[0] * 255), Math.ceil(values[1] * 255), Math.ceil(values[2] * 255)];
            }

            return values;
        }

        if (typeof values === &#x27;string&#x27;) {
            color_string = values;
        }

        // strip any leading #
        if (color_string.charAt(0) === &#x27;#&#x27;) { // remove # if any
            color_string = color_string.substr(1, 6);
        }

        color_string = color_string.replace(/ /g, &#x27;&#x27;).toLowerCase();

        // before getting into regexps, try simple matches
        // and overwrite the input
        color_string = simpleColors[color_string] || color_string;

        // search through the colorDefs definitions to find a match
        for (i = 0; i &lt; colorDefs.length; i++) {
            re = colorDefs[i].re;
            processor = colorDefs[i].process;
            bits = re.exec(color_string);

            if (bits) {
                channels = processor(bits);
                r = channels[0];
                g = channels[1];
                b = channels[2];
            }

        }

        if (isNaN(r) || isNaN(g) || isNaN(b)) {
            return [];
        }

        // validate/cleanup values
        r = (r &lt; 0 || isNaN(r)) ? 0 : ((r &gt; 255) ? 255 : r);
        g = (g &lt; 0 || isNaN(g)) ? 0 : ((g &gt; 255) ? 255 : g);
        b = (b &lt; 0 || isNaN(b)) ? 0 : ((b &gt; 255) ? 255 : b);

        return [r, g, b];
    };

    /**
     * Converts a valid HTML/CSS color string into a string of the &#x27;rgb(r, g, b)&#x27; format.
     * @param {String,Array,Number} color A valid HTML or CSS styled color value, e.g. &#x27;#12ab21&#x27;, &#x27;#abc&#x27;, &#x27;black&#x27;,
     * or &#x27;rgb(12, 132, 233)&#x27;. This can also be an array containing three color values either from 0.0 to 1.0 or
     * from 0 to 255. They will be interpreted as red, green, and blue values. In case this is a number this method
     * expects the parameters ag and ab.
     * @param {Number} ag
     * @param {Number} ab
     * @return {String} A &#x27;rgb(r, g, b)&#x27; formatted string
     */
    JXG.rgb2css = function (color, ag, ab) {
        var r;

        r = JXG.rgbParser(color, ag, ab);

        return &#x27;rgb(&#x27; + r[0] + &#x27;, &#x27; + r[1] + &#x27;, &#x27; + r[2] + &#x27;)&#x27;;
    };

    /**
     * Converts a valid HTML/CSS color string into a HTML rgb string.
     * @param {String,Array,Number} color A valid HTML or CSS styled color value, e.g. &#x27;#12ab21&#x27;, &#x27;#abc&#x27;, &#x27;black&#x27;,
     * or &#x27;rgb(12, 132, 233)&#x27;. This can also be an array containing three color values either from 0.0 to 1.0 or
     * from 0 to 255. They will be interpreted as red, green, and blue values. In case this is a number this method
     * expects the parameters ag and ab.
     * @param {Number} ag
     * @param {Number} ab
     * @return {String} A &#x27;#rrggbb&#x27; formatted string
     */
    JXG.rgb2hex = function (color, ag, ab) {
        var r, g, b;

        r = JXG.rgbParser(color, ag, ab);
        g = r[1];
        b = r[2];
        r = r[0];
        r = r.toString(16);
        g = g.toString(16);
        b = b.toString(16);

        if (r.length === 1) {
            r = &#x27;0&#x27; + r;
        }

        if (g.length === 1) {
            g = &#x27;0&#x27; + g;
        }

        if (b.length === 1) {
            b = &#x27;0&#x27; + b;
        }

        return &#x27;#&#x27; + r + g + b;
    };

    /**
     * Converts a valid HTML/CSS color string from the &#x27;#rrggbb&#x27; format into the &#x27;rgb(r, g, b)&#x27; format.
     * @param {String} hex A valid HTML or CSS styled color value, e.g. &#x27;#12ab21&#x27;, &#x27;#abc&#x27;, or &#x27;black&#x27;
     * @deprecated Use {@link JXG#rgb2css} instead.
     * @return {String} A &#x27;rgb(r, g, b)&#x27; formatted string
     */
    JXG.hex2rgb = function (hex) {
        JXG.deprecated(&#x27;JXG.hex2rgb()&#x27;, &#x27;JXG.rgb2css()&#x27;);
        return JXG.rgb2css(hex);
    };

    /**
     * Converts HSV color to RGB color.
     * Based on C Code in &quot;Computer Graphics -- Principles and Practice,&quot;
     * Foley et al, 1996, p. 593.
     * See also http://www.efg2.com/Lab/Graphics/Colors/HSV.htm
     * @param {Number} H value between 0 and 360
     * @param {Number} S value between 0.0 (shade of gray) to 1.0 (pure color)
     * @param {Number} V value between 0.0 (black) to 1.0 (white)
     * @return {String} RGB color string
     */
    JXG.hsv2rgb = function (H, S, V) {
        var R, G, B, f, i, hTemp, p, q, t;

        H = ((H % 360.0) + 360.0) % 360;

        if (S === 0) {
            if (isNaN(H) || H &lt; Mat.eps) {
                R = V;
                G = V;
                B = V;
            } else {
                return &#x27;#ffffff&#x27;;
            }
        } else {
            if (H &gt;= 360) {
                hTemp = 0.0;
            } else {
                hTemp = H;
            }

            // h is now IN [0,6)
            hTemp = hTemp / 60;
            // largest integer &lt;= h
            i = Math.floor(hTemp);
            // fractional part of h
            f = hTemp - i;
            p = V * (1.0 - S);
            q = V * (1.0 - (S * f));
            t = V * (1.0 - (S * (1.0 - f)));

            switch (i) {
            case 0:
                R = V;
                G = t;
                B = p;
                break;
            case 1:
                R = q;
                G = V;
                B = p;
                break;
            case 2:
                R = p;
                G = V;
                B = t;
                break;
            case 3:
                R = p;
                G = q;
                B = V;
                break;
            case 4:
                R = t;
                G = p;
                B = V;
                break;
            case 5:
                R = V;
                G = p;
                B = q;
                break;
            }
        }

        R = Math.round(R * 255).toString(16);
        R = (R.length === 2) ? R : ((R.length === 1) ? &#x27;0&#x27; + R : &#x27;00&#x27;);
        G = Math.round(G * 255).toString(16);
        G = (G.length === 2) ? G : ((G.length === 1) ? &#x27;0&#x27; + G : &#x27;00&#x27;);
        B = Math.round(B * 255).toString(16);
        B = (B.length === 2) ? B : ((B.length === 1) ? &#x27;0&#x27; + B : &#x27;00&#x27;);

        return [&#x27;#&#x27;, R, G, B].join(&#x27;&#x27;);
    };

    /**
     * Converts a color from the RGB color space into the HSV space. Input can be any valid HTML/CSS color definition.
     * @param {String,Array,Number} color A valid HTML or CSS styled color value, e.g. &#x27;#12ab21&#x27;, &#x27;#abc&#x27;, &#x27;black&#x27;,
     * or &#x27;rgb(12, 132, 233)&#x27;. This can also be an array containing three color values either from 0.0 to 1.0 or
     * from 0 to 255. They will be interpreted as red, green, and blue values. In case this is a number this method
     * expects the parameters ag and ab.
     * @param {Number} ag
     * @param {Number} ab
     * @return {Array} Contains the h, s, and v value in this order.
     * @see http://zach.in.tu-clausthal.de/teaching/cg1_0708/folien/13_color_3_4up.pdf
     */
    JXG.rgb2hsv = function (color, ag, ab) {
        var r, g, b, fr, fg, fb, fmax, fmin, h, s, v, max, min;

        r = JXG.rgbParser(color, ag, ab);

        g = r[1];
        b = r[2];
        r = r[0];
        fr = r / 255.0;
        fg = g / 255.0;
        fb = b / 255.0;
        max = Math.max(r, g, b);
        min = Math.min(r, g, b);
        fmax = max / 255.0;
        fmin = min / 255.0;

        v = fmax;
        s = 0.0;

        if (v &gt; 0) {
            s = (v - fmin) / v;
        }

        h = 1.0 / (fmax - fmin);

        if (s &gt; 0) {
            if (max === r) {
                h = (fg - fb) * h;
            } else if (max === g) {
                h = 2 + (fb - fr) * h;
            } else {
                h = 4 + (fr - fg) * h;
            }
        }

        h *= 60;

        if (h &lt; 0) {
            h += 360;
        }

        if (max === min) {
            h = 0.0;
        }

        return [h, s, v];
    };


    /**
     * Converts a color from the RGB color space into the LMS space. Input can be any valid HTML/CSS color definition.
     * @param {String,Array,Number} color A valid HTML or CSS styled color value, e.g. &#x27;#12ab21&#x27;, &#x27;#abc&#x27;, &#x27;black&#x27;,
     * or &#x27;rgb(12, 132, 233)&#x27;. This can also be an array containing three color values either from 0.0 to 1.0 or
     * from 0 to 255. They will be interpreted as red, green, and blue values. In case this is a number this method
     * expects the parameters ag and ab.
     * @param {Number} ag
     * @param {Number} ab
     * @return {Array} Contains the l, m, and s value in this order.
     */
    JXG.rgb2LMS = function (color, ag, ab) {
        var r, g, b, l, m, s, ret,
            // constants
            matrix = [[0.05059983, 0.08585369, 0.00952420],
                [0.01893033, 0.08925308, 0.01370054],
                [0.00292202, 0.00975732, 0.07145979]];

        r = JXG.rgbParser(color, ag, ab);
        g = r[1];
        b = r[2];
        r = r[0];

        // de-gamma
        // Maybe this can be made faster by using a cache
        r = Math.pow(r, 0.476190476);
        g = Math.pow(g, 0.476190476);
        b = Math.pow(b, 0.476190476);

        l = r * matrix[0][0] + g * matrix[0][1] + b * matrix[0][2];
        m = r * matrix[1][0] + g * matrix[1][1] + b * matrix[1][2];
        s = r * matrix[2][0] + g * matrix[2][1] + b * matrix[2][2];

        ret = [l, m, s];
        ret.l = l;
        ret.m = m;
        ret.s = s;

        return ret;
    };

    /**
     * Convert color information from LMS to RGB color space.
     * @param {Number} l
     * @param {Number} m
     * @param {Number} s
     * @return {Array} Contains the r, g, and b value in this order.
     */
    JXG.LMS2rgb = function (l, m, s) {
        var r, g, b, ret,
            // constants
            matrix = [[30.830854, -29.832659, 1.610474],
                [-6.481468, 17.715578, -2.532642],
                [-0.375690, -1.199062, 14.273846]],

            // re-gamma, inspired by GIMP modules/display-filter-color-blind.c:
            // Copyright (C) 2002-2003 Michael Natterer &lt;mitch@gimp.org&gt;,
            //                         Sven Neumann &lt;sven@gimp.org&gt;,
            //                         Robert Dougherty &lt;bob@vischeck.com&gt; and
            //                         Alex Wade &lt;alex@vischeck.com&gt;
            // This code is an implementation of an algorithm described by Hans Brettel,
            // Francoise Vienot and John Mollon in the Journal of the Optical Society of
            // America V14(10), pg 2647. (See http://vischeck.com/ for more info.)
            lut_lookup = function (value) {
                var offset = 127, step = 64;

                while (step &gt; 0) {
                    if (Math.pow(offset, 0.476190476) &gt; value) {
                        offset -= step;
                    } else {
                        if (Math.pow(offset + 1, 0.476190476) &gt; value) {
                            return offset;
                        }

                        offset += step;
                    }

                    step /= 2;
                }

                /*  the algorithm above can&#x27;t reach 255  */
                if (offset === 254 &amp;&amp; 13.994955247 &lt; value) {
                    return 255;
                }

                return offset;
            };

        // transform back to rgb
        r = l * matrix[0][0] + m * matrix[0][1] + s * matrix[0][2];
        g = l * matrix[1][0] + m * matrix[1][1] + s * matrix[1][2];
        b = l * matrix[2][0] + m * matrix[2][1] + s * matrix[2][2];

        r = lut_lookup(r);
        g = lut_lookup(g);
        b = lut_lookup(b);

        ret = [r, g, b];
        ret.r = r;
        ret.g = g;
        ret.b = b;

        return ret;
    };

    /**
     * Splits a RGBA color value like #112233AA into it&#x27;s RGB and opacity parts.
     * @param {String} rgba A RGBA color value
     * @return {Array} An array containing the rgb color value in the first and the opacity in the second field.
     */
    JXG.rgba2rgbo = function (rgba) {
        var opacity;

        if (rgba.length === 9 &amp;&amp; rgba.charAt(0) === &#x27;#&#x27;) {
            opacity = parseInt(rgba.substr(7, 2).toUpperCase(), 16) / 255;
            rgba = rgba.substr(0, 7);
        } else {
            opacity = 1;
        }

        return [rgba, opacity];
    };

    /**
     * Generates a RGBA color value like #112233AA from it&#x27;s RGB and opacity parts.
     * @param {String} rgb A RGB color value.
     * @param {Number} o The desired opacity &gt;=0, &lt;=1.
     * @return {String} The RGBA color value.
     */
    JXG.rgbo2rgba = function (rgb, o) {
        var rgba;

        if (rgb === &#x27;none&#x27;) {
            return rgb;
        }

        rgba = Math.round(o * 255).toString(16);
        if (rgba.length === 1) {
            rgba = &quot;0&quot; + rgba;
        }

        return rgb + rgba;
    };

    /**
     * Decolorizes the given color.
     * @param {String} color HTML string containing the HTML color code.
     * @return {String} Returns a HTML color string
     */
    JXG.rgb2bw = function (color) {
        var x, tmp, arr,
            HexChars = &quot;0123456789ABCDEF&quot;;

        if (color === &#x27;none&#x27;) {
            return color;
        }

        arr = JXG.rgbParser(color);
        x = Math.floor(0.3 * arr[0] + 0.59 * arr[1] + 0.11 * arr[2]);

        // rgbParser and Math.floor ensure that x is 0 &lt;= x &lt;= 255.
        // Bitwise operators can be used.
        /*jslint bitwise: true*/
        tmp = HexChars.charAt((x &gt;&gt; 4) &amp; 0xf) + HexChars.charAt(x &amp; 0xf);

        color = &quot;#&quot; + tmp + tmp + tmp;

        return color;
    };

    /**
     * Converts a color into how a colorblind human approximately would see it.
     * @param {String} color HTML string containing the HTML color code.
     * @param {String} deficiency The type of color blindness. Possible
     * options are &lt;i&gt;protanopia&lt;/i&gt;, &lt;i&gt;deuteranopia&lt;/i&gt;, and &lt;i&gt;tritanopia&lt;/i&gt;.
     * @return {String} Returns a HTML color string
     */
    JXG.rgb2cb = function (color, deficiency) {
        var rgb, l, m, s, lms, tmp,
            a1, b1, c1, a2, b2, c2,
            inflection,
            HexChars = &quot;0123456789ABCDEF&quot;;

        if (color === &#x27;none&#x27;) {
            return color;
        }

        lms = JXG.rgb2LMS(color);
        l = lms[0];
        m = lms[1];
        s = lms[2];

        deficiency = deficiency.toLowerCase();

        switch (deficiency) {
        case &quot;protanopia&quot;:
            a1 = -0.06150039994295001;
            b1 = 0.08277001656812001;
            c1 = -0.013200141220000003;
            a2 = 0.05858939668799999;
            b2 = -0.07934519995360001;
            c2 = 0.013289415272000003;
            inflection = 0.6903216543277437;

            tmp = s / m;

            if (tmp &lt; inflection) {
                l = -(b1 * m + c1 * s) / a1;
            } else {
                l = -(b2 * m + c2 * s) / a2;
            }
            break;
        case &quot;tritanopia&quot;:
            a1 = -0.00058973116217;
            b1 = 0.007690316482;
            c1 = -0.01011703519052;
            a2 = 0.025495080838999994;
            b2 = -0.0422740347;
            c2 = 0.017005316784;
            inflection = 0.8349489908460004;

            tmp = m / l;

            if (tmp &lt; inflection) {
                s = -(a1 * l + b1 * m) / c1;
            } else {
                s = -(a2 * l + b2 * m) / c2;
            }
            break;
        default:
            a1 = -0.06150039994295001;
            b1 = 0.08277001656812001;
            c1 = -0.013200141220000003;
            a2 = 0.05858939668799999;
            b2 = -0.07934519995360001;
            c2 = 0.013289415272000003;
            inflection = 0.5763833686400911;

            tmp = s / l;

            if (tmp &lt; inflection) {
                m = -(a1 * l + c1 * s) / b1;
            } else {
                m = -(a2 * l + c2 * s) / b2;
            }
            break;
        }

        rgb = JXG.LMS2rgb(l, m, s);

        // LMS2rgb returns an array of values ranging from 0 to 255 (both included)
        // bitwise operators are safe to use.
        /*jslint bitwise: true*/
        tmp = HexChars.charAt((rgb[0] &gt;&gt; 4) &amp; 0xf) + HexChars.charAt(rgb[0] &amp; 0xf);
        color = &quot;#&quot; + tmp;
        tmp = HexChars.charAt((rgb[1] &gt;&gt; 4) &amp; 0xf) + HexChars.charAt(rgb[1] &amp; 0xf);
        color += tmp;
        tmp = HexChars.charAt((rgb[2] &gt;&gt; 4) &amp; 0xf) + HexChars.charAt(rgb[2] &amp; 0xf);
        color += tmp;

        return color;
    };

    /**
     * Determines highlight color to a given color. Done by reducing (or increasing) the opacity,
     * @param {String} color HTML RGBA string containing the HTML color code.
     * @return {String} Returns a HTML RGBA color string
     */
    JXG.autoHighlight = function (colstr) {
        var col = JXG.rgba2rgbo(colstr),
            c = col[0],
            opa = col[1];

        if (colstr.charAt(0) === &#x27;#&#x27;) {
            if (opa &lt; 0.3) {
                opa *= 1.8;
            } else {
                opa *= 0.4;
            }

            return JXG.rgbo2rgba(c, opa);
        }

        return colstr;
    };

    return JXG;
});

    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
